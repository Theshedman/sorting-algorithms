\documentclass[a4paper]{report}                                     

\usepackage{ngerman}                                                   
\usepackage[utf8]{inputenc}                                                 
\usepackage{amssymb}                                                                                                 
\usepackage{pseudocode} 
\usepackage{listings}
\usepackage{color}
\usepackage{parskip}
\setlength\parindent{0pt}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}



\begin{document}

\chapter*{Shellsort}

\underline{\bf{Computational complexity}}

\begin{tabular}{|l|l|p{7cm} l |}
\hline
Best Case    & Average Case  &  Worst Case\\ \hline
$O(n\cdot log(n))$ & $O(n^2)$  &  $O(n2)$ (worst known steplength sequence) $O(n\cdot log(n)^2)$ (best known steplenth sequence) \\ \hline
\end{tabular}

WORST CASE: The conditions under which the worst case occurs depend on steplengths that are used. For Shell's originally proposed steplength sequence based on $2^n$ (eg. steplengths = [8,4,2,1]), the worst case performance may appear when the binary representation of the number of elements contains many consecutive zeroes (eg. $1024_{10} \rightarrow 10000000000_2$). This steplength-sequence leaves out uneven numbers until it gets to 1 and therefore is not the optimal choice.

BEST CASE: This occurs when the array is already sorted. Because the number of elements in steplengths is $log(n)$ (again for Shell's original proposal) and for each steplength we need to confirm that the order of elements in the array is correct ($O(n)$ as this is the best case for Insertionsort) , the resulting complexity is $O(n \cdot log(n)$.


\underline{\bf{Pseudocode}}

array: array with numbers that are to be sorted
steplengths: array with steplengths that are to be used. In our definition, steplengths are arranged in descending order (eg. steplengths = [8,4,2,1]). A practical steplengths-array must further fulfill the condition $steplengths[0] < array.length$. 


\begin{lstlisting}
procedure shellsort(array, steplengths)
--------------------------
begin
  for each steplength in steplengths do
    for i := 1 to step do
  	  sort(array, i, steplength)   
    end
  end
end

procedure sort(array, i, steplength)
--------------------------
perform Insertionsort using the following positions
in the array: i, i  + steplength, i + steplength*2, ...

\end{lstlisting}



\end{document} 